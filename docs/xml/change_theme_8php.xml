<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.17">
  <compounddef id="change_theme_8php" kind="file" language="PHP">
    <compoundname>changeTheme.php</compoundname>
      <sectiondef kind="var">
      <memberdef kind="variable" id="change_theme_8php_1a9ec944afb63bf131a4cbda887907c836" prot="public" static="no" mutable="no">
        <type></type>
        <definition>$DATABASE_HOST</definition>
        <argsstring></argsstring>
        <name>$DATABASE_HOST</name>
        <initializer>= &quot;&quot;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="api/changeTheme.php" line="5" column="1" bodyfile="api/changeTheme.php" bodystart="5" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="change_theme_8php_1adfdf4bbc1f8066e64d5e0f5e4eefdc57" prot="public" static="no" mutable="no">
        <type></type>
        <definition>$DATABASE_USER</definition>
        <argsstring></argsstring>
        <name>$DATABASE_USER</name>
        <initializer>= &quot;&quot;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="api/changeTheme.php" line="6" column="1" bodyfile="api/changeTheme.php" bodystart="6" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="change_theme_8php_1ae858da3f69b9d402e0a063e6a7fc2f5b" prot="public" static="no" mutable="no">
        <type></type>
        <definition>$DATABASE_PASS</definition>
        <argsstring></argsstring>
        <name>$DATABASE_PASS</name>
        <initializer>= &apos;&apos;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="api/changeTheme.php" line="7" column="1" bodyfile="api/changeTheme.php" bodystart="7" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="change_theme_8php_1a584a643ec0e542b8bf6f042ab5ecc9d2" prot="public" static="no" mutable="no">
        <type></type>
        <definition>$DATABASE_NAME</definition>
        <argsstring></argsstring>
        <name>$DATABASE_NAME</name>
        <initializer>= &apos;&apos;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="api/changeTheme.php" line="8" column="1" bodyfile="api/changeTheme.php" bodystart="8" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="change_theme_8php_1a5d346e31b75d916e3bac9cb193bfc97f" prot="public" static="no" mutable="no">
        <type></type>
        <definition>$link</definition>
        <argsstring></argsstring>
        <name>$link</name>
        <initializer>= htmlspecialchars($_SERVER[&apos;SERVER_NAME&apos;])</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="api/changeTheme.php" line="10" column="1" bodyfile="api/changeTheme.php" bodystart="10" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="change_theme_8php_1a5894a8dcaeff5a403c5ad8a6d070be41" prot="public" static="no" mutable="no">
        <type><ref refid="fanart_8php_1a9fd3cb77418876e48e2bccf7d5f77ba6" kindref="member">if</ref>(strpos($link, &quot;toad&quot;))</type>
        <definition>if ( $conn-&gt;query( $sql)===TRUE) else</definition>
        <argsstring></argsstring>
        <name>else</name>
        <initializer>{
    $DATABASE_HOST = &apos;localhost&apos;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="api/changeTheme.php" line="18" column="1" bodyfile="api/changeTheme.php" bodystart="18" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="change_theme_8php_1aa8a5a87b9c1a6a0819b88447cbe41877" prot="public" static="no" mutable="no">
        <type></type>
        <definition>$conn</definition>
        <argsstring></argsstring>
        <name>$conn</name>
        <initializer>= new mysqli($DATABASE_HOST, $DATABASE_USER, $DATABASE_PASS, $DATABASE_NAME)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="api/changeTheme.php" line="29" column="1" bodyfile="api/changeTheme.php" bodystart="29" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="change_theme_8php_1a4b685878caa7661f403fe48c248a8cc0" prot="public" static="no" mutable="no">
        <type><ref refid="fanart_8php_1a9fd3cb77418876e48e2bccf7d5f77ba6" kindref="member">if</ref>($conn-&gt;connect_error)</type>
        <definition>if ( $conn-&gt;connect_error) $username</definition>
        <argsstring></argsstring>
        <name>$username</name>
        <initializer>= htmlspecialchars($_POST[&quot;userName&quot;])</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="api/changeTheme.php" line="34" column="1" bodyfile="api/changeTheme.php" bodystart="34" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="change_theme_8php_1aa13d24df9dd0d529ade5187cef7086a1" prot="public" static="no" mutable="no">
        <type></type>
        <definition>$chosenTheme</definition>
        <argsstring></argsstring>
        <name>$chosenTheme</name>
        <initializer>= htmlspecialchars($_POST[&quot;num&quot;])</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="api/changeTheme.php" line="35" column="1" bodyfile="api/changeTheme.php" bodystart="35" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="change_theme_8php_1ad496e3a0b7350f301b0be42416f78cd4" prot="public" static="no" mutable="no">
        <type><ref refid="fanart_8php_1a9fd3cb77418876e48e2bccf7d5f77ba6" kindref="member">if</ref>( $chosenTheme !=1 &amp;&amp; $chosenTheme !=2)</type>
        <definition>if ($chosenTheme !=1 &amp;&amp;$chosenTheme !=2) $sql</definition>
        <argsstring></argsstring>
        <name>$sql</name>
        <initializer>= &quot;UPDATE `users` SET `theme` = &apos;&quot;.$chosenTheme.&quot;&apos; WHERE `users`.`username` = &apos;&quot;.$_SESSION[&apos;name&apos;].&quot;&apos;&quot;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="api/changeTheme.php" line="43" column="1" bodyfile="api/changeTheme.php" bodystart="43" bodyend="-1"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="normal">&lt;?php</highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal">session_start();</highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"><ref refid="change_theme_8php_1a9ec944afb63bf131a4cbda887907c836" kindref="member">$DATABASE_HOST</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="6"><highlight class="normal"><ref refid="change_theme_8php_1adfdf4bbc1f8066e64d5e0f5e4eefdc57" kindref="member">$DATABASE_USER</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7"><highlight class="normal"><ref refid="change_theme_8php_1ae858da3f69b9d402e0a063e6a7fc2f5b" kindref="member">$DATABASE_PASS</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="8"><highlight class="normal"><ref refid="change_theme_8php_1a584a643ec0e542b8bf6f042ab5ecc9d2" kindref="member">$DATABASE_NAME</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"><ref refid="change_theme_8php_1a5d346e31b75d916e3bac9cb193bfc97f" kindref="member">$link</ref><sp/>=<sp/>htmlspecialchars($_SERVER[</highlight><highlight class="stringliteral">&apos;SERVER_NAME&apos;</highlight><highlight class="normal">]);</highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="comment">//echo<sp/>$link;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(strpos(<ref refid="change_theme_8php_1a5d346e31b75d916e3bac9cb193bfc97f" kindref="member">$link</ref>,<sp/></highlight><highlight class="stringliteral">&quot;toad&quot;</highlight><highlight class="normal">)){</highlight></codeline>
<codeline lineno="13"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="change_theme_8php_1a9ec944afb63bf131a4cbda887907c836" kindref="member">$DATABASE_HOST</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;127.0.0.1&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="14"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="change_theme_8php_1adfdf4bbc1f8066e64d5e0f5e4eefdc57" kindref="member">$DATABASE_USER</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;levymaty&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="15"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="change_theme_8php_1ae858da3f69b9d402e0a063e6a7fc2f5b" kindref="member">$DATABASE_PASS</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;webove<sp/>aplikace&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="change_theme_8php_1a584a643ec0e542b8bf6f042ab5ecc9d2" kindref="member">$DATABASE_NAME</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;levymaty&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="17"><highlight class="normal">}</highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="change_theme_8php_1a9ec944afb63bf131a4cbda887907c836" kindref="member">$DATABASE_HOST</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;localhost&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="change_theme_8php_1adfdf4bbc1f8066e64d5e0f5e4eefdc57" kindref="member">$DATABASE_USER</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;root&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="change_theme_8php_1ae858da3f69b9d402e0a063e6a7fc2f5b" kindref="member">$DATABASE_PASS</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="change_theme_8php_1a584a643ec0e542b8bf6f042ab5ecc9d2" kindref="member">$DATABASE_NAME</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;userlist&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="23"><highlight class="normal">}</highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="comment">//echo<sp/>$DATABASE_HOST;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="comment">//echo<sp/>$DATABASE_USER;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="comment">//echo<sp/>$DATABASE_PASS;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="comment">//echo<sp/>$DATABASE_NAME;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Try<sp/>and<sp/>connect<sp/>using<sp/>the<sp/>info<sp/>above.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"><ref refid="change_theme_8php_1aa8a5a87b9c1a6a0819b88447cbe41877" kindref="member">$conn</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>mysqli(<ref refid="change_theme_8php_1a9ec944afb63bf131a4cbda887907c836" kindref="member">$DATABASE_HOST</ref>,<sp/><ref refid="change_theme_8php_1adfdf4bbc1f8066e64d5e0f5e4eefdc57" kindref="member">$DATABASE_USER</ref>,<sp/><ref refid="change_theme_8php_1ae858da3f69b9d402e0a063e6a7fc2f5b" kindref="member">$DATABASE_PASS</ref>,<sp/><ref refid="change_theme_8php_1a584a643ec0e542b8bf6f042ab5ecc9d2" kindref="member">$DATABASE_NAME</ref>);</highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="change_theme_8php_1aa8a5a87b9c1a6a0819b88447cbe41877" kindref="member">$conn</ref>-&gt;connect_error)<sp/>{</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/>die(</highlight><highlight class="stringliteral">&quot;Connection<sp/>failed:<sp/>&quot;</highlight><highlight class="normal"><sp/>.<sp/><ref refid="change_theme_8php_1aa8a5a87b9c1a6a0819b88447cbe41877" kindref="member">$conn</ref>-&gt;connect_error);</highlight></codeline>
<codeline lineno="32"><highlight class="normal">}</highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"><ref refid="change_theme_8php_1a4b685878caa7661f403fe48c248a8cc0" kindref="member">$username</ref><sp/>=<sp/>htmlspecialchars($_POST[</highlight><highlight class="stringliteral">&quot;userName&quot;</highlight><highlight class="normal">]);</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><ref refid="change_theme_8php_1aa13d24df9dd0d529ade5187cef7086a1" kindref="member">$chosenTheme</ref><sp/>=<sp/>htmlspecialchars($_POST[</highlight><highlight class="stringliteral">&quot;num&quot;</highlight><highlight class="normal">]);</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><ref refid="change_theme_8php_1a5d346e31b75d916e3bac9cb193bfc97f" kindref="member">$link</ref><sp/>=<sp/>htmlspecialchars($_POST[</highlight><highlight class="stringliteral">&quot;link&quot;</highlight><highlight class="normal">]);</highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/><ref refid="change_theme_8php_1aa13d24df9dd0d529ade5187cef7086a1" kindref="member">$chosenTheme</ref><sp/>!=<sp/>1<sp/>&amp;&amp;<sp/><ref refid="change_theme_8php_1aa13d24df9dd0d529ade5187cef7086a1" kindref="member">$chosenTheme</ref><sp/>!=<sp/>2)<sp/>{</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/>die<sp/>(</highlight><highlight class="stringliteral">&apos;Please<sp/>enter<sp/>1<sp/>or<sp/>2&apos;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="39"><highlight class="normal">}</highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="comment">//var_dump($_SESSION);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="preprocessor">#$query<sp/>=<sp/>&quot;UPDATE<sp/>&apos;users&apos;<sp/>SET<sp/>&apos;theme&apos;<sp/>=<sp/>&apos;&quot;.$chosenTheme.&quot;&apos;<sp/>WHERE<sp/>&apos;users&apos;.&apos;id&apos;<sp/>=<sp/>&quot;.$_SESSION[&apos;theme&apos;].&quot;;&quot;;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"><ref refid="change_theme_8php_1ad496e3a0b7350f301b0be42416f78cd4" kindref="member">$sql</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;UPDATE<sp/>`users`<sp/>SET<sp/>`theme`<sp/>=<sp/>&apos;&quot;</highlight><highlight class="normal">.$chosenTheme.</highlight><highlight class="stringliteral">&quot;&apos;<sp/>WHERE<sp/>`users`.`username`<sp/>=<sp/>&apos;&quot;</highlight><highlight class="normal">.$_SESSION[</highlight><highlight class="stringliteral">&apos;name&apos;</highlight><highlight class="normal">].</highlight><highlight class="stringliteral">&quot;&apos;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="change_theme_8php_1aa8a5a87b9c1a6a0819b88447cbe41877" kindref="member">$conn</ref>-&gt;query(<ref refid="change_theme_8php_1ad496e3a0b7350f301b0be42416f78cd4" kindref="member">$sql</ref>)<sp/>===<sp/>TRUE)<sp/>{</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/>$_SESSION[</highlight><highlight class="stringliteral">&apos;theme&apos;</highlight><highlight class="normal">]<sp/>=<sp/><ref refid="change_theme_8php_1aa13d24df9dd0d529ade5187cef7086a1" kindref="member">$chosenTheme</ref>;</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//echo<sp/>&quot;Record<sp/>updated<sp/>successfully&quot;;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="change_theme_8php_1aa8a5a87b9c1a6a0819b88447cbe41877" kindref="member">$conn</ref>-&gt;close();</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/>header(</highlight><highlight class="stringliteral">&quot;Location:<sp/>&quot;</highlight><highlight class="normal">.<ref refid="change_theme_8php_1a5d346e31b75d916e3bac9cb193bfc97f" kindref="member">$link</ref>.</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="50"><highlight class="normal">}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#<sp/>$error<sp/>=<sp/>mysql_error();</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#<sp/>echo<sp/>&quot;&lt;script&gt;console.log(&apos;Error<sp/>updating<sp/>record:<sp/>&apos;<sp/>+<sp/>&apos;<sp/>&quot;.$conn-&gt;error.&quot;&apos;);&lt;/script&gt;&quot;;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//echo<sp/>&quot;Error<sp/>updating<sp/>record:<sp/>&quot;<sp/>.<sp/>$conn-&gt;error;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="change_theme_8php_1aa8a5a87b9c1a6a0819b88447cbe41877" kindref="member">$conn</ref>-&gt;close();</highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/>#header(&quot;Location:<sp/>&quot;.&quot;404.com&quot;);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/>header(</highlight><highlight class="stringliteral">&quot;Location:<sp/>&quot;</highlight><highlight class="normal">.<ref refid="change_theme_8php_1a5d346e31b75d916e3bac9cb193bfc97f" kindref="member">$link</ref>.</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="58"><highlight class="normal">}</highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal">?&gt;</highlight></codeline>
    </programlisting>
    <location file="api/changeTheme.php"/>
  </compounddef>
</doxygen>
