<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.17">
  <compounddef id="register__user_8php" kind="file" language="PHP">
    <compoundname>register_user.php</compoundname>
      <sectiondef kind="var">
      <memberdef kind="variable" id="register__user_8php_1a9ec944afb63bf131a4cbda887907c836" prot="public" static="no" mutable="no">
        <type></type>
        <definition>$DATABASE_HOST</definition>
        <argsstring></argsstring>
        <name>$DATABASE_HOST</name>
        <initializer>= &quot;&quot;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="api/register_user.php" line="5" column="1" bodyfile="api/register_user.php" bodystart="5" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="register__user_8php_1adfdf4bbc1f8066e64d5e0f5e4eefdc57" prot="public" static="no" mutable="no">
        <type></type>
        <definition>$DATABASE_USER</definition>
        <argsstring></argsstring>
        <name>$DATABASE_USER</name>
        <initializer>= &quot;&quot;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="api/register_user.php" line="6" column="1" bodyfile="api/register_user.php" bodystart="6" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="register__user_8php_1ae858da3f69b9d402e0a063e6a7fc2f5b" prot="public" static="no" mutable="no">
        <type></type>
        <definition>$DATABASE_PASS</definition>
        <argsstring></argsstring>
        <name>$DATABASE_PASS</name>
        <initializer>= &apos;&apos;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="api/register_user.php" line="7" column="1" bodyfile="api/register_user.php" bodystart="7" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="register__user_8php_1a584a643ec0e542b8bf6f042ab5ecc9d2" prot="public" static="no" mutable="no">
        <type></type>
        <definition>$DATABASE_NAME</definition>
        <argsstring></argsstring>
        <name>$DATABASE_NAME</name>
        <initializer>= &apos;&apos;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="api/register_user.php" line="8" column="1" bodyfile="api/register_user.php" bodystart="8" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="register__user_8php_1a5d346e31b75d916e3bac9cb193bfc97f" prot="public" static="no" mutable="no">
        <type></type>
        <definition>$link</definition>
        <argsstring></argsstring>
        <name>$link</name>
        <initializer>= htmlspecialchars($_SERVER[&apos;SERVER_NAME&apos;])</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="api/register_user.php" line="10" column="1" bodyfile="api/register_user.php" bodystart="10" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="register__user_8php_1a3b1f76dd64cdf648f98c5ef7f6c094b1" prot="public" static="no" mutable="no">
        <type></type>
        <definition>$goTo</definition>
        <argsstring></argsstring>
        <name>$goTo</name>
        <initializer>= &quot;http://&quot;.htmlspecialchars($_SERVER[&apos;SERVER_NAME&apos;]).&quot;/~levymaty/&quot;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="api/register_user.php" line="12" column="1" bodyfile="api/register_user.php" bodystart="12" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="register__user_8php_1a5894a8dcaeff5a403c5ad8a6d070be41" prot="public" static="no" mutable="no">
        <type><ref refid="fanart_8php_1a9fd3cb77418876e48e2bccf7d5f77ba6" kindref="member">if</ref>(strpos($link, &quot;toad&quot;))</type>
        <definition>if ( $conn-&gt;query( $sql)===TRUE) else</definition>
        <argsstring></argsstring>
        <name>else</name>
        <initializer>{
    $DATABASE_HOST = &apos;localhost&apos;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="api/register_user.php" line="21" column="1" bodyfile="api/register_user.php" bodystart="21" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="register__user_8php_1aa8a5a87b9c1a6a0819b88447cbe41877" prot="public" static="no" mutable="no">
        <type></type>
        <definition>$conn</definition>
        <argsstring></argsstring>
        <name>$conn</name>
        <initializer>= new mysqli($DATABASE_HOST, $DATABASE_USER, $DATABASE_PASS, $DATABASE_NAME)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="api/register_user.php" line="28" column="1" bodyfile="api/register_user.php" bodystart="28" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="register__user_8php_1aa8d043db9d292d29cb663e554d3f0ffc" prot="public" static="no" mutable="no">
        <type></type>
        <definition>$USERNAME</definition>
        <argsstring></argsstring>
        <name>$USERNAME</name>
        <initializer>= htmlspecialchars($_POST[&quot;username&quot;])</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="api/register_user.php" line="67" column="5" bodyfile="api/register_user.php" bodystart="67" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="register__user_8php_1a2b09b1c2c22822d20c76e6bc0a008904" prot="public" static="no" mutable="no">
        <type></type>
        <definition>$passwordFromPost</definition>
        <argsstring></argsstring>
        <name>$passwordFromPost</name>
        <initializer>= htmlspecialchars($_POST[&quot;password&quot;])</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="api/register_user.php" line="69" column="1" bodyfile="api/register_user.php" bodystart="69" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="register__user_8php_1ac6c166cb90c97e799a631c6cc894d841" prot="public" static="no" mutable="no">
        <type></type>
        <definition>$PASS</definition>
        <argsstring></argsstring>
        <name>$PASS</name>
        <initializer>= password_hash($passwordFromPost, PASSWORD_BCRYPT, [
		&apos;cost&apos; =&gt; 11,
	])</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="api/register_user.php" line="70" column="5" bodyfile="api/register_user.php" bodystart="70" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="register__user_8php_1a47bae00d656c37ccabf3f0a6e8ca39ec" prot="public" static="no" mutable="no">
        <type></type>
        <definition>$EMAIL</definition>
        <argsstring></argsstring>
        <name>$EMAIL</name>
        <initializer>= htmlspecialchars($_POST[&quot;email&quot;])</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="api/register_user.php" line="73" column="5" bodyfile="api/register_user.php" bodystart="73" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="register__user_8php_1a047170d6020a882807665812a27e2525" prot="public" static="no" mutable="no">
        <type></type>
        <definition>$sql</definition>
        <argsstring></argsstring>
        <name>$sql</name>
        <initializer>= &quot;INSERT INTO users (username, password, email) VALUES (&apos;$USERNAME&apos;, &apos;$PASS&apos;, &apos;$EMAIL&apos;)&quot;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="api/register_user.php" line="74" column="5" bodyfile="api/register_user.php" bodystart="74" bodyend="-1"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="normal">&lt;?php</highlight></codeline>
<codeline lineno="2"><highlight class="normal">session_start();</highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"><ref refid="register__user_8php_1a9ec944afb63bf131a4cbda887907c836" kindref="member">$DATABASE_HOST</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="6"><highlight class="normal"><ref refid="register__user_8php_1adfdf4bbc1f8066e64d5e0f5e4eefdc57" kindref="member">$DATABASE_USER</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="7"><highlight class="normal"><ref refid="register__user_8php_1ae858da3f69b9d402e0a063e6a7fc2f5b" kindref="member">$DATABASE_PASS</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="8"><highlight class="normal"><ref refid="register__user_8php_1a584a643ec0e542b8bf6f042ab5ecc9d2" kindref="member">$DATABASE_NAME</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"><ref refid="register__user_8php_1a5d346e31b75d916e3bac9cb193bfc97f" kindref="member">$link</ref><sp/>=<sp/>htmlspecialchars($_SERVER[</highlight><highlight class="stringliteral">&apos;SERVER_NAME&apos;</highlight><highlight class="normal">]);</highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"><ref refid="register__user_8php_1a3b1f76dd64cdf648f98c5ef7f6c094b1" kindref="member">$goTo</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;http://&quot;</highlight><highlight class="normal">.htmlspecialchars($_SERVER[</highlight><highlight class="stringliteral">&apos;SERVER_NAME&apos;</highlight><highlight class="normal">]).</highlight><highlight class="stringliteral">&quot;/~levymaty/&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="comment">//echo<sp/>var_dump($_SERVER);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="comment">//echo<sp/>$goTo;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(strpos(<ref refid="register__user_8php_1a5d346e31b75d916e3bac9cb193bfc97f" kindref="member">$link</ref>,<sp/></highlight><highlight class="stringliteral">&quot;toad&quot;</highlight><highlight class="normal">)){</highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="register__user_8php_1a9ec944afb63bf131a4cbda887907c836" kindref="member">$DATABASE_HOST</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;127.0.0.1&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="register__user_8php_1adfdf4bbc1f8066e64d5e0f5e4eefdc57" kindref="member">$DATABASE_USER</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;levymaty&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="register__user_8php_1ae858da3f69b9d402e0a063e6a7fc2f5b" kindref="member">$DATABASE_PASS</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;webove<sp/>aplikace&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="register__user_8php_1a584a643ec0e542b8bf6f042ab5ecc9d2" kindref="member">$DATABASE_NAME</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;levymaty&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="20"><highlight class="normal">}</highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="register__user_8php_1a9ec944afb63bf131a4cbda887907c836" kindref="member">$DATABASE_HOST</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;localhost&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="register__user_8php_1adfdf4bbc1f8066e64d5e0f5e4eefdc57" kindref="member">$DATABASE_USER</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;root&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="register__user_8php_1ae858da3f69b9d402e0a063e6a7fc2f5b" kindref="member">$DATABASE_PASS</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="register__user_8php_1a584a643ec0e542b8bf6f042ab5ecc9d2" kindref="member">$DATABASE_NAME</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;userlist&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="26"><highlight class="normal">}</highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Try<sp/>and<sp/>connect<sp/>using<sp/>the<sp/>info<sp/>above.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"><ref refid="register__user_8php_1aa8a5a87b9c1a6a0819b88447cbe41877" kindref="member">$conn</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>mysqli(<ref refid="register__user_8php_1a9ec944afb63bf131a4cbda887907c836" kindref="member">$DATABASE_HOST</ref>,<sp/><ref refid="register__user_8php_1adfdf4bbc1f8066e64d5e0f5e4eefdc57" kindref="member">$DATABASE_USER</ref>,<sp/><ref refid="register__user_8php_1ae858da3f69b9d402e0a063e6a7fc2f5b" kindref="member">$DATABASE_PASS</ref>,<sp/><ref refid="register__user_8php_1a584a643ec0e542b8bf6f042ab5ecc9d2" kindref="member">$DATABASE_NAME</ref>);</highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="register__user_8php_1aa8a5a87b9c1a6a0819b88447cbe41877" kindref="member">$conn</ref>-&gt;connect_error)<sp/>{</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/>die(</highlight><highlight class="stringliteral">&quot;Connection<sp/>failed:<sp/>&quot;</highlight><highlight class="normal"><sp/>.<sp/><ref refid="register__user_8php_1aa8a5a87b9c1a6a0819b88447cbe41877" kindref="member">$conn</ref>-&gt;connect_error);</highlight></codeline>
<codeline lineno="31"><highlight class="normal">}</highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Change<sp/>this<sp/>to<sp/>your<sp/>connection<sp/>info.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!isset($_POST[</highlight><highlight class="stringliteral">&quot;username&quot;</highlight><highlight class="normal">],<sp/>$_POST[</highlight><highlight class="stringliteral">&quot;password&quot;</highlight><highlight class="normal">])<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Could<sp/>not<sp/>get<sp/>the<sp/>data<sp/>that<sp/>should<sp/>have<sp/>been<sp/>sent.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/>die<sp/>(</highlight><highlight class="stringliteral">&apos;Please<sp/>fill<sp/>both<sp/>the<sp/>username<sp/>and<sp/>password<sp/>field!&apos;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="39"><highlight class="normal">}</highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Prepare<sp/>our<sp/>SQL,<sp/>preparing<sp/>the<sp/>SQL<sp/>statement<sp/>will<sp/>prevent<sp/>SQL<sp/>injection.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>($stmt<sp/>=<sp/><ref refid="register__user_8php_1aa8a5a87b9c1a6a0819b88447cbe41877" kindref="member">$conn</ref>-&gt;prepare(</highlight><highlight class="stringliteral">&apos;SELECT<sp/>id<sp/>FROM<sp/>users<sp/>WHERE<sp/>username<sp/>=<sp/>?&apos;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Bind<sp/>parameters<sp/>(s<sp/>=<sp/>string,<sp/>i<sp/>=<sp/>int,<sp/>b<sp/>=<sp/>blob,<sp/>etc),<sp/>in<sp/>our<sp/>case<sp/>the<sp/>username<sp/>is<sp/>a<sp/>string<sp/>so<sp/>we<sp/>use<sp/>&quot;s&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/>$stmt-&gt;bind_param(</highlight><highlight class="charliteral">&apos;s&apos;</highlight><highlight class="normal">,<sp/>$_POST[</highlight><highlight class="stringliteral">&quot;username&quot;</highlight><highlight class="normal">]);</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/>$stmt-&gt;execute();</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Store<sp/>the<sp/>result<sp/>so<sp/>we<sp/>can<sp/>check<sp/>if<sp/>the<sp/>account<sp/>exists<sp/>in<sp/>the<sp/>database.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/>$stmt-&gt;store_result();</highlight></codeline>
<codeline lineno="47"><highlight class="normal">}</highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">($stmt2<sp/>=<sp/><sp/><ref refid="register__user_8php_1aa8a5a87b9c1a6a0819b88447cbe41877" kindref="member">$conn</ref>-&gt;prepare(</highlight><highlight class="stringliteral">&apos;SELECT<sp/>id<sp/>FROM<sp/>users<sp/>WHERE<sp/>email<sp/>=<sp/>?&apos;</highlight><highlight class="normal">)){</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/>$stmt2-&gt;bind_param(</highlight><highlight class="charliteral">&apos;s&apos;</highlight><highlight class="normal">,<sp/>$_POST[</highlight><highlight class="stringliteral">&quot;email&quot;</highlight><highlight class="normal">]);</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/>$stmt2-&gt;execute();</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Store<sp/>the<sp/>result<sp/>so<sp/>we<sp/>can<sp/>check<sp/>if<sp/>the<sp/>account<sp/>exists<sp/>in<sp/>the<sp/>database.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/>$stmt2-&gt;store_result();</highlight></codeline>
<codeline lineno="53"><highlight class="normal">}</highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>($stmt-&gt;num_rows<sp/>&gt;<sp/>0<sp/>||<sp/>$stmt2-&gt;num_rows<sp/>&gt;<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/>$stmt-&gt;bind_result($id);</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/>$stmt-&gt;fetch();</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//echo<sp/>&apos;&lt;script&gt;console.log(&quot;This<sp/>username<sp/>is<sp/>taken,<sp/>please<sp/>try<sp/>again&quot;)&lt;/script&gt;&apos;;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//echo<sp/>&apos;This<sp/>username<sp/>or<sp/>email<sp/>is<sp/>already<sp/>taken,<sp/>please<sp/>try<sp/>again&apos;;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/>$stmt-&gt;close();</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>$link<sp/>=<sp/>htmlspecialchars($_POST[&quot;link&quot;]);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/>header(</highlight><highlight class="stringliteral">&quot;Location:<sp/>&quot;</highlight><highlight class="normal">.<ref refid="register__user_8php_1a3b1f76dd64cdf648f98c5ef7f6c094b1" kindref="member">$goTo</ref>.</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">);<sp/></highlight></codeline>
<codeline lineno="63"><highlight class="normal">}</highlight><highlight class="keywordflow">else</highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/>$stmt-&gt;close();</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/>$stmt2-&gt;close();</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//echo<sp/>&apos;&lt;script&gt;console.log(&quot;This<sp/>username<sp/>is<sp/>FREE,<sp/>congrats&quot;)&lt;/script&gt;&apos;;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="register__user_8php_1aa8d043db9d292d29cb663e554d3f0ffc" kindref="member">$USERNAME</ref><sp/>=<sp/>htmlspecialchars($_POST[</highlight><highlight class="stringliteral">&quot;username&quot;</highlight><highlight class="normal">]);</highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="register__user_8php_1a2b09b1c2c22822d20c76e6bc0a008904" kindref="member">$passwordFromPost</ref><sp/>=<sp/>htmlspecialchars($_POST[</highlight><highlight class="stringliteral">&quot;password&quot;</highlight><highlight class="normal">]);</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="register__user_8php_1ac6c166cb90c97e799a631c6cc894d841" kindref="member">$PASS</ref><sp/>=<sp/>password_hash(<ref refid="register__user_8php_1a2b09b1c2c22822d20c76e6bc0a008904" kindref="member">$passwordFromPost</ref>,<sp/>PASSWORD_BCRYPT,<sp/>[</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;cost&apos;</highlight><highlight class="normal"><sp/>=&gt;<sp/>11,</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/>]);</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="register__user_8php_1a47bae00d656c37ccabf3f0a6e8ca39ec" kindref="member">$EMAIL</ref><sp/>=<sp/>htmlspecialchars($_POST[</highlight><highlight class="stringliteral">&quot;email&quot;</highlight><highlight class="normal">]);</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="register__user_8php_1a047170d6020a882807665812a27e2525" kindref="member">$sql</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;INSERT<sp/>INTO<sp/>users<sp/>(username,<sp/>password,<sp/>email)<sp/>VALUES<sp/>(&apos;$USERNAME&apos;,<sp/>&apos;$PASS&apos;,<sp/>&apos;$EMAIL&apos;)&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="register__user_8php_1aa8a5a87b9c1a6a0819b88447cbe41877" kindref="member">$conn</ref>-&gt;query(<ref refid="register__user_8php_1a047170d6020a882807665812a27e2525" kindref="member">$sql</ref>)<sp/>===<sp/>TRUE)<sp/>{</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>echo<sp/>&quot;New<sp/>record<sp/>created<sp/>successfully&quot;;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session_regenerate_id();</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>$_SESSION[</highlight><highlight class="stringliteral">&apos;loggedin&apos;</highlight><highlight class="normal">]<sp/>=<sp/>TRUE;</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>$_SESSION[</highlight><highlight class="stringliteral">&apos;name&apos;</highlight><highlight class="normal">]<sp/>=<sp/>htmlspecialchars(<ref refid="register__user_8php_1aa8d043db9d292d29cb663e554d3f0ffc" kindref="member">$USERNAME</ref>);</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//echo<sp/>&apos;Welcome<sp/>&apos;<sp/>.<sp/>$_SESSION[&apos;name&apos;]<sp/>.<sp/>&apos;!&apos;;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//$stmt-&gt;close();</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="register__user_8php_1aa8a5a87b9c1a6a0819b88447cbe41877" kindref="member">$conn</ref>-&gt;close();</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>error_log(</highlight><highlight class="stringliteral">&quot;Error:<sp/>&quot;</highlight><highlight class="normal"><sp/>.<sp/><ref refid="register__user_8php_1a047170d6020a882807665812a27e2525" kindref="member">$sql</ref><sp/>.<sp/></highlight><highlight class="stringliteral">&quot;&lt;br&gt;&quot;</highlight><highlight class="normal"><sp/>.<sp/><ref refid="register__user_8php_1aa8a5a87b9c1a6a0819b88447cbe41877" kindref="member">$conn</ref>-&gt;error);</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//echo<sp/>&quot;Error:<sp/>&quot;<sp/>.<sp/>$sql<sp/>.<sp/>&quot;&lt;br&gt;&quot;<sp/>.<sp/>$conn-&gt;error;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//$stmt-&gt;close();</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="register__user_8php_1aa8a5a87b9c1a6a0819b88447cbe41877" kindref="member">$conn</ref>-&gt;close();</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//$link<sp/>=<sp/>htmlspecialchars($_POST[&quot;link&quot;]);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/>header(</highlight><highlight class="stringliteral">&quot;Location:<sp/>&quot;</highlight><highlight class="normal">.<ref refid="register__user_8php_1a3b1f76dd64cdf648f98c5ef7f6c094b1" kindref="member">$goTo</ref>.</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="91"><highlight class="normal">}</highlight></codeline>
<codeline lineno="92"><highlight class="normal">?&gt;</highlight></codeline>
    </programlisting>
    <location file="api/register_user.php"/>
  </compounddef>
</doxygen>
